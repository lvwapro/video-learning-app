# 思维导图功能使用指南

## 🌳 思维导图功能概述

学迹VidNotes的思维导图功能帮助你将视频笔记转化为结构化的知识图谱，让学习内容更加清晰、易于理解和记忆。

---

## ✨ 功能特性

### 1. 自动生成
- 📝 **从笔记生成**: 根据现有笔记自动创建思维导图
- 🏷️ **标签分组**: 按照笔记标签自动分类节点
- 🎨 **智能配色**: 自动为不同主题分配颜色
- 📍 **智能布局**: 放射状布局，节点自动排列

### 2. 手动创建
- ➕ **创建节点**: 添加中心节点和子节点
- ✏️ **编辑节点**: 修改节点标题和内容
- 🗑️ **删除节点**: 删除单个节点或整个分支
- 🎯 **节点选择**: 点击选中节点进行操作

### 3. 交互功能
- 🔍 **缩放**: 双指捏合放大/缩小画布
- 🖐️ **平移**: 拖动画布查看不同区域
- 👆 **点击**: 选中节点查看详情
- ⏱️ **长按**: 快速访问节点操作菜单

### 4. 可视化
- 🎨 **彩色节点**: 不同颜色区分主题
- 📏 **连接线**: 曲线连接显示节点关系
- ⭐ **节点层级**: 中心节点 > 主题节点 > 子节点
- 💡 **高亮显示**: 选中节点高亮边框

---

## 🚀 快速开始

### 方式1：从笔记生成

1. **添加笔记并设置标签**
   - 在视频播放时添加笔记
   - 为笔记添加标签（如：重点、难点、公式等）

2. **生成思维导图**
   - 进入"导图"标签页
   - 点击右下角"新建导图"按钮
   - 选择"从笔记生成"
   - 等待自动生成完成

3. **查看和编辑**
   - 自动打开编辑器
   - 系统已按标签分组创建节点
   - 可以继续编辑和完善

### 方式2：手动创建

1. **创建空白导图**
   - 进入"导图"标签页
   - 点击"新建导图" > "手动创建"
   - 进入空白画布

2. **创建中心节点**
   - 点击"创建中心节点"按钮
   - 输入节点标题和内容
   - 点击保存

3. **添加子节点**
   - 选中中心节点（点击）
   - 点击顶部工具栏的"+"按钮
   - 输入子节点信息
   - 继续添加更多节点

---

## 📖 详细使用说明

### 节点操作

#### 创建节点
```
1. 选中父节点
2. 点击顶部"+"按钮
3. 输入节点标题
4. 输入节点内容（可选）
5. 点击保存
```

#### 编辑节点
```
1. 选中要编辑的节点
2. 点击顶部"编辑"按钮
   或长按节点 > 选择"编辑"
3. 修改标题和内容
4. 点击保存
```

#### 删除节点
```
1. 选中要删除的节点
2. 点击顶部"删除"按钮
   或长按节点 > 选择"删除"
3. 确认删除（会连同子节点一起删除）
```

### 画布操作

#### 缩放画布
- **双指捏合**: 放大或缩小
- **缩放范围**: 0.5x - 3.0x
- **恢复默认**: 返回重新进入

#### 平移画布
- **拖动**: 用手指拖动画布
- **查看远处节点**: 平移到任意位置
- **返回中心**: 重新进入页面

### 保存和导出

#### 保存思维导图
```
1. 点击顶部"保存"按钮
2. 系统自动保存到数据库
3. 返回思维导图列表查看
```

#### 导出功能（开发中）
- 📸 **导出为图片**: PNG/JPEG格式
- 📄 **导出为PDF**: 高清PDF文档
- 📝 **导出为Markdown**: 文本格式

---

## 💡 使用技巧

### 1. 笔记标签策略
为了生成更好的思维导图，建议：
- 使用**一致的标签命名**（如：定义、公式、例题）
- 每条笔记添加**1-3个标签**
- 为重要内容添加**"重点"标签**
- 为疑问添加**"问题"标签**

### 2. 节点组织建议
- **中心节点**: 课程名称或章节标题
- **主题节点**: 知识点分类（如标签名）
- **子节点**: 具体内容或例子

### 3. 颜色运用
- 系统自动分配8种颜色
- 同一主题的节点使用相同颜色
- 利用颜色快速识别不同主题

### 4. 学习应用
- **预习**: 创建章节框架图
- **学习**: 边学习边添加笔记，自动生成导图
- **复习**: 查看思维导图回忆知识点
- **总结**: 整理完善思维导图结构

---

## 🎨 节点类型说明

### 中心节点 (Topic)
- **位置**: 画布中心
- **大小**: 160x80像素
- **颜色**: 主色调蓝色
- **用途**: 表示整个主题或课程

### 主题节点 (Main Topic)
- **位置**: 环绕中心节点
- **大小**: 140x70像素
- **颜色**: 按主题自动分配
- **用途**: 知识点分类或标签分组

### 子节点 (Subtopic)
- **位置**: 主题节点周围
- **大小**: 120x60像素
- **颜色**: 继承父节点颜色
- **用途**: 具体内容、例子或笔记

---

## 🔗 与笔记的关联

### 笔记关联节点
从笔记生成的节点会自动关联：
- **视频ID**: 笔记所属视频
- **时间戳**: 笔记的时间点
- **笔记ID**: 原始笔记引用

### 跳转功能（即将推出）
- 点击节点跳转到对应视频位置
- 查看节点关联的完整笔记
- 从视频跳转到思维导图

---

## 📊 思维导图示例

### 示例1：数学课程
```
中心节点: 微积分基础
├─ 主题1: 极限
│  ├─ 定义
│  ├─ 性质
│  └─ 例题
├─ 主题2: 导数
│  ├─ 定义
│  ├─ 公式
│  └─ 应用
└─ 主题3: 积分
   ├─ 不定积分
   └─ 定积分
```

### 示例2：英语学习
```
中心节点: 英语语法
├─ 主题1: 时态
│  ├─ 现在时
│  ├─ 过去时
│  └─ 将来时
├─ 主题2: 从句
│  ├─ 定语从句
│  └─ 状语从句
└─ 主题3: 虚拟语气
   └─ 条件句
```

---

## ❓ 常见问题

### Q: 生成的思维导图节点太多？
A: 
- 在生成前精简笔记数量
- 只保留重要笔记
- 生成后删除不必要的节点
- 合并相似的节点

### Q: 如何调整节点位置？
A: 
- 当前版本节点位置自动生成
- 可以通过编辑节点内容来调整
- 后续版本将支持拖拽调整

### Q: 能否修改节点颜色？
A: 
- 当前版本颜色自动分配
- 同一主题使用相同颜色
- 后续版本将支持自定义颜色

### Q: 导出功能何时可用？
A: 
- 导出图片功能开发中
- 导出PDF功能开发中
- 预计在下一个版本发布

### Q: 思维导图保存在哪里？
A: 
- 保存在本地数据库
- 与视频和笔记一起存储
- 可以在"导图"页面查看所有导图

---

## 🎯 最佳实践

### 学习流程建议

#### 1. 预习阶段
```
创建空白思维导图
└─ 添加章节框架
   └─ 标记重点和难点
```

#### 2. 学习阶段
```
观看视频 + 记笔记
└─ 添加时间戳笔记
   └─ 设置标签分类
      └─ 标记重要程度
```

#### 3. 整理阶段
```
从笔记生成思维导图
└─ 查看自动生成的结构
   └─ 编辑和完善节点
      └─ 删除重复内容
```

#### 4. 复习阶段
```
查看思维导图
└─ 回忆知识点
   └─ 点击节点查看笔记
      └─ 跳转视频重新学习
```

---

## 🚀 后续功能规划

### 即将推出
- [ ] 🎨 自定义节点颜色和样式
- [ ] 📏 拖拽调整节点位置
- [ ] 🔗 节点点击跳转到视频
- [ ] 📸 导出为图片
- [ ] 📄 导出为PDF

### 未来计划
- [ ] 🤝 多人协作编辑
- [ ] ☁️ 云端同步
- [ ] 🎯 AI智能优化布局
- [ ] 🌐 分享到社区
- [ ] 📱 移动端优化

---

## 💬 反馈建议

如果你有任何建议或发现问题：
1. 在GitHub提交Issue
2. 发送邮件反馈
3. 加入用户社区讨论

---

**祝你学习进步！用思维导图让知识结构化！** 🎓✨

